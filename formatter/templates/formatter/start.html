{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Formatter</title>
    <style>
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        background: #f8fafc;
        color: #0f172a;
      }
      .page {
        max-width: 720px;
        margin: 3rem auto;
        padding: 2rem;
        background: #ffffff;
        border-radius: 1rem;
        box-shadow: 0 20px 45px rgba(15, 23, 42, 0.08);
      }
      h1 {
        margin: 0 0 0.5rem 0;
        font-size: 1.75rem;
      }
      .subtitle {
        margin: 0 0 1.5rem 0;
        color: #64748b;
      }
      form {
        display: grid;
        gap: 1.25rem;
      }
      textarea {
        width: 100%;
        font: inherit;
        padding: 0.75rem 1rem;
        border-radius: 0.75rem;
        border: 1px solid rgba(15, 23, 42, 0.12);
        min-height: 220px;
        resize: vertical;
      }
      textarea:focus {
        outline: none;
        border-color: #2563eb;
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
      }
      button {
        justify-self: start;
        padding: 0.75rem 1.75rem;
        border: none;
        border-radius: 0.75rem;
        background: #2563eb;
        color: #ffffff;
        font-weight: 600;
        cursor: pointer;
        transition: background 180ms ease;
      }
      button:hover {
        background: #1d4ed8;
      }
      .errors {
        margin: 0;
        padding: 0.75rem 1rem;
        border-radius: 0.75rem;
        background: rgba(239, 68, 68, 0.1);
        color: #b91c1c;
        list-style: none;
      }
    </style>
  </head>
  <body>
    <main class="page">
      <h1>Format Document</h1>
      <p class="subtitle">{{ document.document.file.name }}</p>
      <form method="post">
        {% csrf_token %}
        {{ form.document }}
        <div>
          {{ form.prompt.label_tag }}
          {{ form.prompt }}
          {% if form.prompt.errors %}
            <ul class="errors">
              {% for error in form.prompt.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>
        <button type="submit">Run formatter</button>
      </form>
    </main>
  </body>
</html>
